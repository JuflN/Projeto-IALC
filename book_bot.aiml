<?xml version="1.0" encoding="UTF-8"?>
<aiml>
  <!-- Saudações -->
  <category>
    <pattern>OLÁ</pattern>
    <template>
      Olá! Eu sou o seu assistente de recomendações de livros.
      <think>
        <set name="saudacao">verdadeiro</set>
      </think>
      Gostaria de receber uma indicação com base em um livro que você goste?
    </template>
  </category>

  <!-- Responder Sim -->
  <category>
    <pattern>SIM</pattern>
    <template>
      Qual o nome do livro que você gosta?
    </template>
  </category>

  <!-- Capturar nome do livro -->
  <category>
    <pattern>*</pattern>
    <that>QUAL O NOME DO LIVRO QUE VOCÊ GOSTA</that>
    <template>
      <think>
        <set name="livro"><star/></set>
      </think>
      Estou procurando o livro "<star/>" no meu banco de dados...
    </template>
  </category>

  <!-- Se o livro não for encontrado, pedir descrição -->
  <category>
    <pattern>NÃO ENCONTREI O LIVRO *</pattern>
    <template>
      Não encontrei o livro no meu banco de dados. Você pode descrever o livro?
    </template>
  </category>

  <!-- Capturar descrição do livro -->
  <category>
    <pattern>*</pattern>
    <that>NÃO ENCONTREI O LIVRO *</that>
    <template>
      <think>
        <set name="descricao"><star/></set>
      </think>
      Estou procurando recomendações com base na descrição que você forneceu...
    </template>
  </category>

  <!-- Mensagem padrão -->
  <category>
    <pattern>NÃO</pattern>
    <template>
      Tudo bem! Se mudar de ideia, estou por aqui. Posso ajudar com outra coisa?
    </template>
  </category>

  <!-- Livro encontrado -->
  <category>
    <pattern>*</pattern>
    <that>ESTOU PROCURANDO O LIVRO *</that>
    <template>
      Encontrei recomendações baseado em "<get name="livro"/>". Aqui estão elas:
    </template>
  </category>

  <!--- Pergunta sobre qual livro o usuário deseja saber mais sobre -->
  <category>
    <pattern>*</pattern>
    <that>ENCONTREI RECOMENDAÇÕES BASEADO EM *</that>
    <template>
      Qual desses livros você gostaria de saber mais sobre?
    </template>
  </category>

  <!-- Capturar escolha do usuário e fornecer descrição-->
  <category>
    <pattern>*</pattern>
    <that>QUAL DESSES LIVROS VOCÊ GOSTARIA DE SABER MAIS SOBRE</that>
    <template>
      <think>
        <set name="escolha"><star/></set>
      </think>
      Aqui está a descrição do livro "<get name="escolha"/>":<br/>
      [Descrição do livro]<br/>
      Gostaria de saber mais sobre outro livro?
    </template>
  </category>

  <!-- Responder Não -->
  <category>
    <pattern>NÃO</pattern>
    <that>GOSTARIA DE SABER MAIS SOBRE OUTRO LIVRO</that>
    <template>
      Tudo bem! Se mudar de ideia, estou por aqui. Espero que goste da indicação!
    </template>
  </category>

  <!-- Caso o usuário queira saber mais sobre outro livro -->
  <category>
    <pattern>SIM</pattern>
    <that>GOSTARIA DE SABER MAIS SOBRE OUTRO LIVRO</that>
    <template>
      Qual o nome do livro que você gostaria de saber mais sobre?
    </template>
  </category>

  <!-- Voltando para as indicações -->
  <category>
    <pattern>*</pattern>
    <that>QUAL O NOME DO LIVRO QUE VOCÊ GOSTARIA DE SABER MAIS SOBRE</that>
    <template>
      <think>
        <set name="livro"><star/></set>
      </think>
      Estou procurando o livro "<star/>" no meu banco de dados...
    </template>
  </category>

  <!-- Caso padrão para qualquer outra entrada -->
  <category>
    <pattern>*</pattern>
    <template>
      Desculpe, não entendi. Você gostaria de receber uma indicação de livro?
    </template>
  </category>
</aiml>